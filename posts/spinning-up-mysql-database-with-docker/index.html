<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Spinning up MySQL Database with Docker | celeronCoder's Blog</title><meta name=keywords content="getting_started,docker,mysql"><meta name=description content="Spinning up a MySQL Database with Docker, this is how I personally go about it and some other useful refrences."><meta name=author content><link rel=canonical href=https://celeroncoder.github.io/blog/posts/spinning-up-mysql-database-with-docker/><link crossorigin=anonymous href=/blog/assets/css/stylesheet.d7fb4cbf980fe688a21621b06a795933c4e6bb2d4070ec940667af1715d84af2.css integrity="sha256-1/tMv5gP5oiiFiGwanlZM8Tmuy1AcOyUBmevFxXYSvI=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/blog/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://raw.githubusercontent.com/gist/celeronCoder/bf4dbcc95f3919e2b374dc60b0c01391/raw/efe5fe3f1cfad1dd862fdbefd760f1815c6d2a1a/favicon.svg><link rel=icon type=image/png sizes=16x16 href=https://celeroncoder.github.io/blog/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://celeroncoder.github.io/blog/favicon-32x32.png><link rel=apple-touch-icon href=https://celeroncoder.github.io/blog/apple-touch-icon.png><link rel=mask-icon href=https://celeroncoder.github.io/blog/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Spinning up MySQL Database with Docker"><meta property="og:description" content="Spinning up a MySQL Database with Docker, this is how I personally go about it and some other useful refrences."><meta property="og:type" content="article"><meta property="og:url" content="https://celeroncoder.github.io/blog/posts/spinning-up-mysql-database-with-docker/"><meta property="og:image" content="https://celeroncoder.github.io/blog/uploads/mysql_docker_blog_cover.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-07-21T18:30:00+00:00"><meta property="article:modified_time" content="2022-07-21T18:30:00+00:00"><meta property="og:site_name" content="celeronCoder"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://celeroncoder.github.io/blog/uploads/mysql_docker_blog_cover.png"><meta name=twitter:title content="Spinning up MySQL Database with Docker"><meta name=twitter:description content="Spinning up a MySQL Database with Docker, this is how I personally go about it and some other useful refrences."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://celeroncoder.github.io/blog/posts/"},{"@type":"ListItem","position":3,"name":"Spinning up MySQL Database with Docker","item":"https://celeroncoder.github.io/blog/posts/spinning-up-mysql-database-with-docker/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Spinning up MySQL Database with Docker","name":"Spinning up MySQL Database with Docker","description":"Spinning up a MySQL Database with Docker, this is how I personally go about it and some other useful refrences.","keywords":["getting_started","docker","mysql"],"articleBody":"This is the best way to start since you don’t have to install MySQL locally and configure it and run into like thousands of issues and in the end not being able to make it, docker makes it much easier for me or probably for you also to spin up a MySQL database in minutes.\nTo get started follow these steps:\nPull the latest image,\ndocker pull mysql:latest You don’t have to do it manually it will download automatically if not installed when we spin up the container. Start the container using the following command\ndocker run --name -p 3306:3306 -v mysql_volume:/var/lib/mysql/ -d -e \"MYSQL_ROOT_PASSWORD=\" mysql This will create a new container with the name , with the mysql:latest image and publish the ports 3306 to the local environment to use the instance outside of the container.\nThis also sets up the volume for the container to persist the database’s data, so that it doesn’t reset on restarts of the host system or the container.\nWe also pass in the environment variable MYSQL_ROOT_PASSWORD to set a root password for the database.\nIf not provided, it will generate a random strong password, we can see it in the container logs using this command:\ndocker container logs You can pass in the following Environment Variables when starting the container:\nMYSQL_ROOT_PASSWORD Setup your password using this environment variable. MYSQL_ALLOW_EMPTY_PASSWORD Blank or Null password will be set. You have to set MYSQL_ALLOW_EMPTY_PASSWORD=1. MYSQL_RANDOM_ROOT_PASSWORD random password will be generated when the container is started. You have to set MYSQL_RANDOM_ROOT_PASSWORD=1 to generate the random password. Don’t pass in the permanent password in production, as the password will be visible in the shell history, which we obviously don’t want.\nA possible solution is that we pass in a temporary password like temp123 and then change it afterwards.\nWe can change the root password as follows:\nGet into the container using `docker exec -it bash`.\nLogin into the MySQL shell using\nmysql -u root -p\nThis will prompt you to enter the password which we set up before, in our case it was temp123.\nAfter logging into the shell run the following SQL query to change the password:\nALTER USER 'root'@'localhost' IDENTIFIED BY ''; References:\nView this article on Instapaper with notes. View the original one here. ","wordCount":"382","inLanguage":"en","image":"https://celeroncoder.github.io/blog/uploads/mysql_docker_blog_cover.png","datePublished":"2022-07-21T18:30:00Z","dateModified":"2022-07-21T18:30:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://celeroncoder.github.io/blog/posts/spinning-up-mysql-database-with-docker/"},"publisher":{"@type":"Organization","name":"celeronCoder's Blog","logo":{"@type":"ImageObject","url":"https://raw.githubusercontent.com/gist/celeronCoder/bf4dbcc95f3919e2b374dc60b0c01391/raw/efe5fe3f1cfad1dd862fdbefd760f1815c6d2a1a/favicon.svg"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://celeroncoder.github.io/blog accesskey=h title="celeronCoder's Blog (Alt + H)">celeronCoder's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://celeroncoder.github.io/blog>Home</a>&nbsp;»&nbsp;<a href=https://celeroncoder.github.io/blog/posts/>Posts</a></div><h1 class=post-title>Spinning up MySQL Database with Docker</h1><div class=post-description>Spinning up a MySQL Database with Docker, this is how I personally go about it and some other useful refrences.</div><div class=post-meta><span title='2022-07-21 18:30:00 +0000 UTC'>July 21, 21030</span>&nbsp;·&nbsp;2 min</div></header><figure class=entry-cover><img loading=lazy src=https://celeroncoder.github.io/blog/uploads/mysql_docker_blog_cover.png alt="Spinning up MySQL with Docker"></figure><div class=post-content><p>This is the best way to start since you don&rsquo;t have to install MySQL locally and configure it and run into like thousands of issues and in the end not being able to make it, docker makes it much easier for me or probably for you also to spin up a MySQL database in minutes.</p><p><strong>To get started follow these steps:</strong></p><ul><li><p>Pull the latest image,</p><pre><code>docker pull mysql:latest
</code></pre><ul><li>You don&rsquo;t have to do it manually it will download automatically if not installed when we spin up the container.</li></ul></li><li><p>Start the container using the following command</p><pre><code>docker run --name &lt;container_name&gt; -p 3306:3306 -v mysql_volume:/var/lib/mysql/ -d -e &quot;MYSQL_ROOT_PASSWORD=&lt;root_password&gt;&quot; mysql
</code></pre></li></ul><p>This will create a new container with the name <em>&lt;container_name>, with the</em> <strong>mysql:latest</strong> image and publish the ports <strong>3306</strong> to the local environment to use the instance outside of the container.</p><p>This also sets up the volume for the container to persist the database&rsquo;s data, so that it doesn&rsquo;t reset on restarts of the host system or the container.</p><p>We also pass in the environment variable <em>MYSQL_ROOT_PASSWORD</em> to set a root password for the database.</p><p>If not provided, it will generate a random strong password, we can see it in the container logs using this command:</p><pre><code>docker container logs &lt;container_name&gt;
</code></pre><p>You can pass in the following <em>Environment Variables</em> when starting the container:</p><ul><li><strong>MYSQL_ROOT_PASSWORD</strong> Setup your password using this environment variable.</li><li><strong>MYSQL_ALLOW_EMPTY_PASSWORD</strong> Blank or Null password will be set. You have to set <strong>MYSQL_ALLOW_EMPTY_PASSWORD=1</strong>.</li><li><strong>MYSQL_RANDOM_ROOT_PASSWORD</strong>  random password will be generated when the container is started. You have to set <strong>MYSQL_RANDOM_ROOT_PASSWORD=1</strong> to generate the random password.</li></ul><blockquote><p><strong>Don&rsquo;t pass in the permanent password in production</strong>, as the password will be visible in the shell history, which we obviously don&rsquo;t want.</p><p>A possible solution is that we pass in a temporary password like <em>temp123</em> and then change it afterwards.</p></blockquote><p><strong>We can change the root password as follows:</strong></p><ul><li><p>Get into the container using `docker exec -it &lt;container_name> bash`.</p></li><li><p>Login into the MySQL shell using</p><p>mysql -u root -p</p></li></ul><p>This will prompt you to enter the password which we set up before, in our case it was <em>temp123</em>.</p><p>After logging into the shell run the following SQL query to change the password:</p><pre><code>ALTER USER 'root'@'localhost' IDENTIFIED BY '&lt;new_password&gt;';
</code></pre><p><strong>References</strong>:</p><ul><li>View <a href=https://www.instapaper.com/read/1523582174/20140126 title="Instapaper Read">this</a> article on Instapaper with notes.</li><li>View the original one <a href=https://ostechnix.com/setup-mysql-with-docker-in-linux title="Original Article">here</a>.</li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://celeroncoder.github.io/blog/tags/getting_started/>getting_started</a></li><li><a href=https://celeroncoder.github.io/blog/tags/docker/>docker</a></li><li><a href=https://celeroncoder.github.io/blog/tags/mysql/>mysql</a></li></ul><nav class=paginav><a class=prev href=https://celeroncoder.github.io/blog/posts/the-type-safe-guide-to-trpc/><span class=title>« Prev</span><br><span>The type-safe guide to tRPC</span></a>
<a class=next href=https://celeroncoder.github.io/blog/posts/programming_with_a_dual_core/><span class=title>Next »</span><br><span>Programming with a Dual-Core...</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://celeroncoder.github.io/blog>celeronCoder's Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>